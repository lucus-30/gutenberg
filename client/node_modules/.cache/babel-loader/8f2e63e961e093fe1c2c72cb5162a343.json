{"ast":null,"code":"import \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/list/style\";\nimport _List from \"antd/es/list\";\nimport \"antd/es/card/style\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/descriptions/style\";\nimport _Descriptions from \"antd/es/descriptions\";\nimport \"antd/es/select/style\";\nimport _Select from \"antd/es/select\";\nimport \"antd/es/layout/style\";\nimport _Layout from \"antd/es/layout\";\nvar _jsxFileName = \"/home/luke/Code/CC/gutenberg/client/src/app.js\";\nimport React, { useReducer } from \"react\";\nimport Api from \"services/api\";\nconst {\n  Header,\n  Content\n} = _Layout;\nconst {\n  Option\n} = _Select;\nconst initialState = {\n  field: \"title\",\n  query: \"\",\n  isLoading: false,\n  books: []\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"SET_FIELD\":\n      return { ...state,\n        field: action.payload\n      };\n\n    case \"SET_QUERY\":\n      return { ...state,\n        query: action.payload\n      };\n\n    case \"SET_LOADING\":\n      return { ...state,\n        isLoading: action.payload\n      };\n\n    case \"SET_BOOKS\":\n      return { ...state,\n        isLoading: false,\n        books: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst SearchResults = ({\n  dataSource\n}) => {\n  return /*#__PURE__*/React.createElement(_List, {\n    grid: {\n      gutter: 16,\n      column: 4\n    },\n    dataSource: dataSource,\n    renderItem: item => /*#__PURE__*/React.createElement(_List.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(_Card, {\n      title: item.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(_Descriptions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(_Descriptions.Item, {\n      label: \"Authors\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }\n    }, item.authors), /*#__PURE__*/React.createElement(_Descriptions.Item, {\n      label: \"Publication Date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }\n    }, item.publication_date.split(\"-\").reverse().join(\"/\")), /*#__PURE__*/React.createElement(_Descriptions.Item, {\n      label: \"Authors\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 15\n      }\n    }, item.authors), /*#__PURE__*/React.createElement(_Descriptions.Item, {\n      label: \"Subjects\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }\n    }, item.subjects), /*#__PURE__*/React.createElement(_Descriptions.Item, {\n      label: \"Publisher\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    }, item.publisher)))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  });\n};\n\nconst App = ({\n  children\n}) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  console.log(state);\n\n  const searchHandler = query => {\n    dispatch({\n      type: \"SET_LOADING\",\n      payload: true\n    });\n    Api.Search({\n      field: state.field,\n      query\n    }).then(({\n      data\n    }) => {\n      dispatch({\n        type: \"SET_BOOKS\",\n        payload: data\n      });\n      dispatch({\n        type: \"SET_LOADING\",\n        payload: false\n      });\n    }).catch(console.log);\n  };\n\n  const books = state.books.length > 0 ? /*#__PURE__*/React.createElement(SearchResults, {\n    dataSource: state.books,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 30\n    }\n  }) : null;\n  return /*#__PURE__*/React.createElement(_Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    className: \"header\",\n    style: {\n      background: \"#fff\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Input.Group, {\n    compact: true,\n    style: {\n      margin: \"16px 0\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Select, {\n    defaultValue: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"authors\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, \"Author\")), /*#__PURE__*/React.createElement(_Input.Search, {\n    placeholder: \"input search text\",\n    enterButton: true,\n    style: {\n      width: \"30%\"\n    },\n    onSearch: searchHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(_Layout, {\n    style: {\n      padding: \"0 24px 24px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Content, {\n    className: \"site-layout-background\",\n    style: {\n      padding: 24,\n      margin: 0,\n      minHeight: \"91vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, books)));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/luke/Code/CC/gutenberg/client/src/app.js"],"names":["React","useReducer","Api","Header","Content","Option","initialState","field","query","isLoading","books","reducer","state","action","type","payload","SearchResults","dataSource","gutter","column","item","title","authors","publication_date","split","reverse","join","subjects","publisher","App","children","dispatch","console","log","searchHandler","Search","then","data","catch","length","background","margin","width","padding","minHeight"],"mappings":"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","sourcesContent":["import React, { useReducer } from \"react\"\nimport { Layout, Input, Select, List, Card, Descriptions } from \"antd\"\nimport Api from \"services/api\"\n\nconst { Header, Content } = Layout\nconst { Option } = Select\n\nconst initialState = {\n  field: \"title\",\n  query: \"\",\n  isLoading: false,\n  books: [],\n}\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"SET_FIELD\":\n      return {\n        ...state,\n        field: action.payload,\n      }\n    case \"SET_QUERY\":\n      return {\n        ...state,\n        query: action.payload,\n      }\n    case \"SET_LOADING\":\n      return {\n        ...state,\n        isLoading: action.payload,\n      }\n    case \"SET_BOOKS\":\n      return {\n        ...state,\n        isLoading: false,\n        books: action.payload,\n      }\n    default:\n      return state\n  }\n}\n\nconst SearchResults = ({dataSource}) => {\n  return (\n    <List \n      grid={{ gutter: 16, column: 4 }}\n      dataSource={dataSource}\n      renderItem={item => (\n        <List.Item>\n          <Card title={item.title}>\n            <Descriptions>\n              <Descriptions.Item label=\"Authors\">{item.authors}</Descriptions.Item>\n              <Descriptions.Item label=\"Publication Date\">{item.publication_date.split(\"-\").reverse().join(\"/\")}</Descriptions.Item>\n              <Descriptions.Item label=\"Authors\">{item.authors}</Descriptions.Item>\n              <Descriptions.Item label=\"Subjects\">{item.subjects}</Descriptions.Item>\n              <Descriptions.Item label=\"Publisher\">{item.publisher}</Descriptions.Item>\n            </Descriptions>\n          </Card>\n        </List.Item>\n      )}\n    />\n  )  \n}\n\nconst App = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState)\n  console.log(state)\n  const searchHandler = query => {\n    dispatch({\n      type: \"SET_LOADING\",\n      payload: true,\n    })\n    Api.Search({\n      field: state.field,\n      query,\n    })\n      .then(({ data }) => {\n        dispatch({\n          type: \"SET_BOOKS\",\n          payload: data,\n        })\n        dispatch({\n          type: \"SET_LOADING\",\n          payload: false,\n        })\n      })\n      .catch(console.log)\n  }\n  const books =\n    state.books.length > 0 ? <SearchResults dataSource={state.books} /> : null\n  return (\n    <Layout>\n      <Header className=\"header\" style={{ background: \"#fff\" }}>\n        <Input.Group compact style={{ margin: \"16px 0\" }}>\n          <Select defaultValue=\"title\">\n            <Option value=\"title\">Title</Option>\n            <Option value=\"authors\">Author</Option>\n          </Select>\n          <Input.Search\n            placeholder=\"input search text\"\n            enterButton\n            style={{ width: \"30%\" }}\n            onSearch={searchHandler}\n          />\n        </Input.Group>\n      </Header>\n      <Layout style={{ padding: \"0 24px 24px\" }}>\n        <Content\n          className=\"site-layout-background\"\n          style={{\n            padding: 24,\n            margin: 0,\n            minHeight: \"91vh\",\n          }}\n        >\n          {books}\n        </Content>\n      </Layout>\n    </Layout>\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}