{"ast":null,"code":"import \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/select/style\";\nimport _Select from \"antd/es/select\";\nimport \"antd/es/layout/style\";\nimport _Layout from \"antd/es/layout\";\nvar _jsxFileName = \"/home/luke/Code/CC/gutenberg/client/src/app.js\";\nimport React, { useReducer } from \"react\";\nimport Api from \"services/api\";\nconst {\n  Header,\n  Content\n} = _Layout;\nconst {\n  Option\n} = _Select;\nconst initialState = {\n  field: \"title\",\n  query: \"\",\n  isLoading: false,\n  books: []\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"SET_FIELD\":\n      return { ...state,\n        field: action.payload\n      };\n\n    case \"SET_QUERY\":\n      return { ...state,\n        query: action.payload\n      };\n\n    case \"SET_LOADING\":\n      return { ...state,\n        isLoading: action.payload\n      };\n\n    case \"SET_BOOKS\":\n      return { ...state,\n        isLoading: false,\n        books: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst App = ({\n  children\n}) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  console.log(state);\n\n  const searchHandler = query => {\n    dispatch({\n      type: \"SET_LOADING\",\n      payload: true\n    });\n    Api.Search({\n      field: state.field,\n      query\n    }).then(({\n      data\n    }) => {\n      dispatch({\n        type: \"SET_BOOKS\",\n        payload: data\n      });\n      dispatch({\n        type: \"SET_LOADING\",\n        payload: false\n      });\n    }).catch(console.log);\n  };\n\n  return /*#__PURE__*/React.createElement(_Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    className: \"header\",\n    style: {\n      background: \"#fff\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Input.Group, {\n    compact: true,\n    style: {\n      margin: \"16px 0\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Select, {\n    defaultValue: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"authors\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, \"Author\")), /*#__PURE__*/React.createElement(_Input.Search, {\n    placeholder: \"input search text\",\n    enterButton: true,\n    style: {\n      width: \"30%\"\n    },\n    onSearch: searchHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(_Layout, {\n    style: {\n      padding: \"0 24px 24px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Content, {\n    className: \"site-layout-background\",\n    style: {\n      padding: 24,\n      margin: 0,\n      minHeight: \"91vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, children)));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/luke/Code/CC/gutenberg/client/src/app.js"],"names":["React","useReducer","Api","Header","Content","Option","initialState","field","query","isLoading","books","reducer","state","action","type","payload","App","children","dispatch","console","log","searchHandler","Search","then","data","catch","background","margin","width","padding","minHeight"],"mappings":"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","sourcesContent":["import React, { useReducer } from \"react\"\nimport { Layout, Input, Select } from \"antd\"\nimport Api from \"services/api\"\n\nconst { Header, Content } = Layout\nconst { Option } = Select\n\nconst initialState = {\n  field: \"title\",\n  query: \"\",\n  isLoading: false,\n  books: [],\n}\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"SET_FIELD\":\n      return {\n        ...state,\n        field: action.payload,\n      }\n    case \"SET_QUERY\":\n      return {\n        ...state,\n        query: action.payload,\n      }\n    case \"SET_LOADING\":\n      return {\n        ...state,\n        isLoading: action.payload,\n      }\n    case \"SET_BOOKS\":\n      return {\n        ...state,\n        isLoading: false,\n        books: action.payload,\n      }\n    default:\n      return state\n  }\n}\n\nconst App = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState)\n  console.log(state)\n  const searchHandler = query => {\n    dispatch({\n      type: \"SET_LOADING\",\n      payload: true\n    })\n    Api.Search({\n      field: state.field,\n      query\n    })\n    .then(({data}) => {\n      dispatch({\n        type: \"SET_BOOKS\",\n        payload: data\n      })\n      dispatch({\n        type: \"SET_LOADING\",\n        payload: false\n      })\n    })\n    .catch(console.log)\n  }\n\n  return (\n    <Layout>\n      <Header className=\"header\" style={{ background: \"#fff\" }}>\n        <Input.Group compact style={{ margin: \"16px 0\" }}>\n          <Select defaultValue=\"title\">\n            <Option value=\"title\">Title</Option>\n            <Option value=\"authors\">Author</Option>\n          </Select>\n          <Input.Search\n            placeholder=\"input search text\"\n            enterButton\n            style={{ width: \"30%\" }}\n            onSearch={searchHandler}\n          />\n        </Input.Group>\n      </Header>\n      <Layout style={{ padding: \"0 24px 24px\" }}>\n        <Content\n          className=\"site-layout-background\"\n          style={{\n            padding: 24,\n            margin: 0,\n            minHeight: \"91vh\",\n          }}\n        >\n          {children}\n        </Content>\n      </Layout>\n    </Layout>\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}